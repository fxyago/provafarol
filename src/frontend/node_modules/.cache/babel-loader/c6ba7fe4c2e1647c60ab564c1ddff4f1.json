{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.find.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport Popper from 'popper.js';\nimport { Vue } from '../vue';\nimport { NAME_DROPDOWN } from '../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE } from '../constants/events';\nimport { CODE_DOWN, CODE_ENTER, CODE_ESC, CODE_SPACE, CODE_UP } from '../constants/key-codes';\nimport { PLACEMENT_TOP_START, PLACEMENT_TOP_END, PLACEMENT_BOTTOM_START, PLACEMENT_BOTTOM_END, PLACEMENT_RIGHT_START, PLACEMENT_LEFT_START } from '../constants/popper';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { HTMLElement } from '../constants/safe-types';\nimport { BvEvent } from '../utils/bv-event.class';\nimport { attemptFocus, closest, contains, isVisible, requestAF, selectAll } from '../utils/dom';\nimport { getRootEventName, stopEvent } from '../utils/events';\nimport { isNull } from '../utils/inspect';\nimport { mergeDeep, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn';\nimport { clickOutMixin } from './click-out';\nimport { focusInMixin } from './focus-in';\nimport { idMixin, props as idProps } from './id';\nimport { listenOnRootMixin } from './listen-on-root'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_SHOWN = getRootEventName(NAME_DROPDOWN, EVENT_NAME_SHOWN);\nvar ROOT_EVENT_NAME_HIDDEN = getRootEventName(NAME_DROPDOWN, EVENT_NAME_HIDDEN); // CSS selectors\n\nvar SELECTOR_FORM_CHILD = '.dropdown form';\nvar SELECTOR_ITEM = ['.dropdown-item', '.b-dropdown-form'].map(function (selector) {\n  return \"\".concat(selector, \":not(.disabled):not([disabled])\");\n}).join(', '); // --- Helper methods ---\n// Return an array of visible items\n\nvar filterVisibles = function filterVisibles(els) {\n  return (els || []).filter(isVisible);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, idProps), {}, {\n  // String: `scrollParent`, `window` or `viewport`\n  // HTMLElement: HTML Element reference\n  boundary: makeProp([HTMLElement, PROP_TYPE_STRING], 'scrollParent'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place left if possible\n  dropleft: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place right if possible\n  dropright: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place on top if possible\n  dropup: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable auto-flipping of menu from bottom <=> top\n  noFlip: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Number of pixels or a CSS unit value to offset menu\n  // (i.e. `1px`, `1rem`, etc.)\n  offset: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  popperOpts: makeProp(PROP_TYPE_OBJECT, {}),\n  // Right align menu (default is left align)\n  right: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_DROPDOWN); // --- Mixin ---\n// @vue/component\n\nexport var dropdownMixin = Vue.extend({\n  mixins: [idMixin, listenOnRootMixin, clickOutMixin, focusInMixin],\n  provide: function provide() {\n    return {\n      bvDropdown: this\n    };\n  },\n  inject: {\n    bvNavbar: {\n      default: null\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      visible: false,\n      visibleChangePrevented: false\n    };\n  },\n  computed: {\n    inNavbar: function inNavbar() {\n      return !isNull(this.bvNavbar);\n    },\n    toggler: function toggler() {\n      var toggle = this.$refs.toggle;\n      return toggle ? toggle.$el || toggle : null;\n    },\n    directionClass: function directionClass() {\n      if (this.dropup) {\n        return 'dropup';\n      } else if (this.dropright) {\n        return 'dropright';\n      } else if (this.dropleft) {\n        return 'dropleft';\n      }\n\n      return '';\n    },\n    boundaryClass: function boundaryClass() {\n      // Position `static` is needed to allow menu to \"breakout\" of the `scrollParent`\n      // boundaries when boundary is anything other than `scrollParent`\n      // See: https://github.com/twbs/bootstrap/issues/24251#issuecomment-341413786\n      return this.boundary !== 'scrollParent' && !this.inNavbar ? 'position-static' : '';\n    }\n  },\n  watch: {\n    visible: function visible(newValue, oldValue) {\n      if (this.visibleChangePrevented) {\n        this.visibleChangePrevented = false;\n        return;\n      }\n\n      if (newValue !== oldValue) {\n        var eventName = newValue ? EVENT_NAME_SHOW : EVENT_NAME_HIDE;\n        var bvEvent = new BvEvent(eventName, {\n          cancelable: true,\n          vueTarget: this,\n          target: this.$refs.menu,\n          relatedTarget: null,\n          componentId: this.safeId ? this.safeId() : this.id || null\n        });\n        this.emitEvent(bvEvent);\n\n        if (bvEvent.defaultPrevented) {\n          // Reset value and exit if canceled\n          this.visibleChangePrevented = true;\n          this.visible = oldValue; // Just in case a child element triggered `this.hide(true)`\n\n          this.$off(EVENT_NAME_HIDDEN, this.focusToggler);\n          return;\n        }\n\n        if (newValue) {\n          this.showMenu();\n        } else {\n          this.hideMenu();\n        }\n      }\n    },\n    disabled: function disabled(newValue, oldValue) {\n      if (newValue !== oldValue && newValue && this.visible) {\n        // Hide dropdown if disabled changes to true\n        this.visible = false;\n      }\n    }\n  },\n  created: function created() {\n    // Create private non-reactive props\n    this.$_popper = null;\n    this.$_hideTimeout = null;\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    // In case we are inside a `<keep-alive>`\n    this.visible = false;\n    this.whileOpenListen(false);\n    this.destroyPopper();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.visible = false;\n    this.whileOpenListen(false);\n    this.destroyPopper();\n    this.clearHideTimeout();\n  },\n  methods: {\n    // Event emitter\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type;\n      this.emitOnRoot(getRootEventName(NAME_DROPDOWN, type), bvEvent);\n      this.$emit(type, bvEvent);\n    },\n    showMenu: function showMenu() {\n      var _this = this;\n\n      if (this.disabled) {\n        /* istanbul ignore next */\n        return;\n      } // Only instantiate Popper.js when dropdown is not in `<b-navbar>`\n\n\n      if (!this.inNavbar) {\n        if (typeof Popper === 'undefined') {\n          /* istanbul ignore next */\n          warn('Popper.js not found. Falling back to CSS positioning', NAME_DROPDOWN);\n        } else {\n          // For dropup with alignment we use the parent element as popper container\n          var el = this.dropup && this.right || this.split ? this.$el : this.$refs.toggle; // Make sure we have a reference to an element, not a component!\n\n          el = el.$el || el; // Instantiate Popper.js\n\n          this.createPopper(el);\n        }\n      } // Ensure other menus are closed\n\n\n      this.emitOnRoot(ROOT_EVENT_NAME_SHOWN, this); // Enable listeners\n\n      this.whileOpenListen(true); // Wrap in `$nextTick()` to ensure menu is fully rendered/shown\n\n      this.$nextTick(function () {\n        // Focus on the menu container on show\n        _this.focusMenu(); // Emit the shown event\n\n\n        _this.$emit(EVENT_NAME_SHOWN);\n      });\n    },\n    hideMenu: function hideMenu() {\n      this.whileOpenListen(false);\n      this.emitOnRoot(ROOT_EVENT_NAME_HIDDEN, this);\n      this.$emit(EVENT_NAME_HIDDEN);\n      this.destroyPopper();\n    },\n    createPopper: function createPopper(element) {\n      this.destroyPopper();\n      this.$_popper = new Popper(element, this.$refs.menu, this.getPopperConfig());\n    },\n    // Ensure popper event listeners are removed cleanly\n    destroyPopper: function destroyPopper() {\n      this.$_popper && this.$_popper.destroy();\n      this.$_popper = null;\n    },\n    // Instructs popper to re-computes the dropdown position\n    // useful if the content changes size\n    updatePopper: function updatePopper() {\n      try {\n        this.$_popper.scheduleUpdate();\n      } catch (_unused) {}\n    },\n    clearHideTimeout: function clearHideTimeout() {\n      clearTimeout(this.$_hideTimeout);\n      this.$_hideTimeout = null;\n    },\n    getPopperConfig: function getPopperConfig() {\n      var placement = PLACEMENT_BOTTOM_START;\n\n      if (this.dropup) {\n        placement = this.right ? PLACEMENT_TOP_END : PLACEMENT_TOP_START;\n      } else if (this.dropright) {\n        placement = PLACEMENT_RIGHT_START;\n      } else if (this.dropleft) {\n        placement = PLACEMENT_LEFT_START;\n      } else if (this.right) {\n        placement = PLACEMENT_BOTTOM_END;\n      }\n\n      var popperConfig = {\n        placement: placement,\n        modifiers: {\n          offset: {\n            offset: this.offset || 0\n          },\n          flip: {\n            enabled: !this.noFlip\n          }\n        }\n      };\n      var boundariesElement = this.boundary;\n\n      if (boundariesElement) {\n        popperConfig.modifiers.preventOverflow = {\n          boundariesElement: boundariesElement\n        };\n      }\n\n      return mergeDeep(popperConfig, this.popperOpts || {});\n    },\n    // Turn listeners on/off while open\n    whileOpenListen: function whileOpenListen(isOpen) {\n      // Hide the dropdown when clicked outside\n      this.listenForClickOut = isOpen; // Hide the dropdown when it loses focus\n\n      this.listenForFocusIn = isOpen; // Hide the dropdown when another dropdown is opened\n\n      var method = isOpen ? '$on' : '$off';\n      this.$root[method](ROOT_EVENT_NAME_SHOWN, this.rootCloseListener);\n    },\n    rootCloseListener: function rootCloseListener(vm) {\n      if (vm !== this) {\n        this.visible = false;\n      }\n    },\n    // Public method to show dropdown\n    show: function show() {\n      var _this2 = this;\n\n      if (this.disabled) {\n        return;\n      } // Wrap in a `requestAF()` to allow any previous\n      // click handling to occur first\n\n\n      requestAF(function () {\n        _this2.visible = true;\n      });\n    },\n    // Public method to hide dropdown\n    hide: function hide() {\n      var refocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      /* istanbul ignore next */\n\n      if (this.disabled) {\n        return;\n      }\n\n      this.visible = false;\n\n      if (refocus) {\n        // Child element is closing the dropdown on click\n        this.$once(EVENT_NAME_HIDDEN, this.focusToggler);\n      }\n    },\n    // Called only by a button that toggles the menu\n    toggle: function toggle(event) {\n      event = event || {}; // Early exit when not a click event or ENTER, SPACE or DOWN were pressed\n\n      var _event = event,\n          type = _event.type,\n          keyCode = _event.keyCode;\n\n      if (type !== 'click' && !(type === 'keydown' && [CODE_ENTER, CODE_SPACE, CODE_DOWN].indexOf(keyCode) !== -1)) {\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.disabled) {\n        this.visible = false;\n        return;\n      }\n\n      this.$emit(EVENT_NAME_TOGGLE, event);\n      stopEvent(event); // Toggle visibility\n\n      if (this.visible) {\n        this.hide(true);\n      } else {\n        this.show();\n      }\n    },\n    // Mousedown handler for the toggle\n\n    /* istanbul ignore next */\n    onMousedown: function onMousedown(event) {\n      // We prevent the 'mousedown' event for the toggle to stop the\n      // 'focusin' event from being fired\n      // The event would otherwise be picked up by the global 'focusin'\n      // listener and there is no cross-browser solution to detect it\n      // relates to the toggle click\n      // The 'click' event will still be fired and we handle closing\n      // other dropdowns there too\n      // See https://github.com/bootstrap-vue/bootstrap-vue/issues/4328\n      stopEvent(event, {\n        propagation: false\n      });\n    },\n    // Called from dropdown menu context\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (keyCode === CODE_ESC) {\n        // Close on ESC\n        this.onEsc(event);\n      } else if (keyCode === CODE_DOWN) {\n        // Down Arrow\n        this.focusNext(event, false);\n      } else if (keyCode === CODE_UP) {\n        // Up Arrow\n        this.focusNext(event, true);\n      }\n    },\n    // If user presses ESC, close the menu\n    onEsc: function onEsc(event) {\n      if (this.visible) {\n        this.visible = false;\n        stopEvent(event); // Return focus to original trigger button\n\n        this.$once(EVENT_NAME_HIDDEN, this.focusToggler);\n      }\n    },\n    // Called only in split button mode, for the split button\n    onSplitClick: function onSplitClick(event) {\n      /* istanbul ignore next */\n      if (this.disabled) {\n        this.visible = false;\n        return;\n      }\n\n      this.$emit(EVENT_NAME_CLICK, event);\n    },\n    // Shared hide handler between click-out and focus-in events\n    hideHandler: function hideHandler(event) {\n      var _this3 = this;\n\n      var target = event.target;\n\n      if (this.visible && !contains(this.$refs.menu, target) && !contains(this.toggler, target)) {\n        this.clearHideTimeout();\n        this.$_hideTimeout = setTimeout(function () {\n          return _this3.hide();\n        }, this.inNavbar ? 300 : 0);\n      }\n    },\n    // Document click-out listener\n    clickOutHandler: function clickOutHandler(event) {\n      this.hideHandler(event);\n    },\n    // Document focus-in listener\n    focusInHandler: function focusInHandler(event) {\n      this.hideHandler(event);\n    },\n    // Keyboard nav\n    focusNext: function focusNext(event, up) {\n      var _this4 = this; // Ignore key up/down on form elements\n\n\n      var target = event.target;\n\n      if (!this.visible || event && closest(SELECTOR_FORM_CHILD, target)) {\n        /* istanbul ignore next: should never happen */\n        return;\n      }\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        var items = _this4.getItems();\n\n        if (items.length < 1) {\n          /* istanbul ignore next: should never happen */\n          return;\n        }\n\n        var index = items.indexOf(target);\n\n        if (up && index > 0) {\n          index--;\n        } else if (!up && index < items.length - 1) {\n          index++;\n        }\n\n        if (index < 0) {\n          /* istanbul ignore next: should never happen */\n          index = 0;\n        }\n\n        _this4.focusItem(index, items);\n      });\n    },\n    focusItem: function focusItem(index, items) {\n      var el = items.find(function (el, i) {\n        return i === index;\n      });\n      attemptFocus(el);\n    },\n    getItems: function getItems() {\n      // Get all items\n      return filterVisibles(selectAll(SELECTOR_ITEM, this.$refs.menu));\n    },\n    focusMenu: function focusMenu() {\n      attemptFocus(this.$refs.menu);\n    },\n    focusToggler: function focusToggler() {\n      var _this5 = this;\n\n      this.$nextTick(function () {\n        attemptFocus(_this5.toggler);\n      });\n    }\n  }\n});","map":{"version":3,"sources":["C:/Users/Yago/Documents/Eclipse/Yago/farolshopping/src/frontend/farolshopping/node_modules/bootstrap-vue/esm/mixins/dropdown.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Popper","Vue","NAME_DROPDOWN","EVENT_NAME_CLICK","EVENT_NAME_HIDDEN","EVENT_NAME_HIDE","EVENT_NAME_SHOW","EVENT_NAME_SHOWN","EVENT_NAME_TOGGLE","CODE_DOWN","CODE_ENTER","CODE_ESC","CODE_SPACE","CODE_UP","PLACEMENT_TOP_START","PLACEMENT_TOP_END","PLACEMENT_BOTTOM_START","PLACEMENT_BOTTOM_END","PLACEMENT_RIGHT_START","PLACEMENT_LEFT_START","PROP_TYPE_BOOLEAN","PROP_TYPE_NUMBER_STRING","PROP_TYPE_OBJECT","PROP_TYPE_STRING","HTMLElement","BvEvent","attemptFocus","closest","contains","isVisible","requestAF","selectAll","getRootEventName","stopEvent","isNull","mergeDeep","sortKeys","makeProp","makePropsConfigurable","warn","clickOutMixin","focusInMixin","idMixin","props","idProps","listenOnRootMixin","ROOT_EVENT_NAME_SHOWN","ROOT_EVENT_NAME_HIDDEN","SELECTOR_FORM_CHILD","SELECTOR_ITEM","map","selector","concat","join","filterVisibles","els","boundary","disabled","dropleft","dropright","dropup","noFlip","offset","popperOpts","right","dropdownMixin","extend","mixins","provide","bvDropdown","inject","bvNavbar","default","data","visible","visibleChangePrevented","computed","inNavbar","toggler","toggle","$refs","$el","directionClass","boundaryClass","watch","newValue","oldValue","eventName","bvEvent","cancelable","vueTarget","menu","relatedTarget","componentId","safeId","id","emitEvent","defaultPrevented","$off","focusToggler","showMenu","hideMenu","created","$_popper","$_hideTimeout","deactivated","whileOpenListen","destroyPopper","beforeDestroy","clearHideTimeout","methods","type","emitOnRoot","$emit","_this","el","split","createPopper","$nextTick","focusMenu","element","getPopperConfig","destroy","updatePopper","scheduleUpdate","_unused","clearTimeout","placement","popperConfig","modifiers","flip","enabled","boundariesElement","preventOverflow","isOpen","listenForClickOut","listenForFocusIn","method","$root","rootCloseListener","vm","show","_this2","hide","refocus","undefined","$once","event","_event","keyCode","indexOf","onMousedown","propagation","onKeydown","onEsc","focusNext","onSplitClick","hideHandler","_this3","setTimeout","clickOutHandler","focusInHandler","up","_this4","items","getItems","index","focusItem","find","_this5"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Popper from 'popper.js';\nimport { Vue } from '../vue';\nimport { NAME_DROPDOWN } from '../constants/components';\nimport { EVENT_NAME_CLICK, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE } from '../constants/events';\nimport { CODE_DOWN, CODE_ENTER, CODE_ESC, CODE_SPACE, CODE_UP } from '../constants/key-codes';\nimport { PLACEMENT_TOP_START, PLACEMENT_TOP_END, PLACEMENT_BOTTOM_START, PLACEMENT_BOTTOM_END, PLACEMENT_RIGHT_START, PLACEMENT_LEFT_START } from '../constants/popper';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { HTMLElement } from '../constants/safe-types';\nimport { BvEvent } from '../utils/bv-event.class';\nimport { attemptFocus, closest, contains, isVisible, requestAF, selectAll } from '../utils/dom';\nimport { getRootEventName, stopEvent } from '../utils/events';\nimport { isNull } from '../utils/inspect';\nimport { mergeDeep, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn';\nimport { clickOutMixin } from './click-out';\nimport { focusInMixin } from './focus-in';\nimport { idMixin, props as idProps } from './id';\nimport { listenOnRootMixin } from './listen-on-root'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_SHOWN = getRootEventName(NAME_DROPDOWN, EVENT_NAME_SHOWN);\nvar ROOT_EVENT_NAME_HIDDEN = getRootEventName(NAME_DROPDOWN, EVENT_NAME_HIDDEN); // CSS selectors\n\nvar SELECTOR_FORM_CHILD = '.dropdown form';\nvar SELECTOR_ITEM = ['.dropdown-item', '.b-dropdown-form'].map(function (selector) {\n  return \"\".concat(selector, \":not(.disabled):not([disabled])\");\n}).join(', '); // --- Helper methods ---\n// Return an array of visible items\n\nvar filterVisibles = function filterVisibles(els) {\n  return (els || []).filter(isVisible);\n}; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, idProps), {}, {\n  // String: `scrollParent`, `window` or `viewport`\n  // HTMLElement: HTML Element reference\n  boundary: makeProp([HTMLElement, PROP_TYPE_STRING], 'scrollParent'),\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place left if possible\n  dropleft: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place right if possible\n  dropright: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Place on top if possible\n  dropup: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable auto-flipping of menu from bottom <=> top\n  noFlip: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Number of pixels or a CSS unit value to offset menu\n  // (i.e. `1px`, `1rem`, etc.)\n  offset: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  popperOpts: makeProp(PROP_TYPE_OBJECT, {}),\n  // Right align menu (default is left align)\n  right: makeProp(PROP_TYPE_BOOLEAN, false)\n})), NAME_DROPDOWN); // --- Mixin ---\n// @vue/component\n\nexport var dropdownMixin = Vue.extend({\n  mixins: [idMixin, listenOnRootMixin, clickOutMixin, focusInMixin],\n  provide: function provide() {\n    return {\n      bvDropdown: this\n    };\n  },\n  inject: {\n    bvNavbar: {\n      default: null\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      visible: false,\n      visibleChangePrevented: false\n    };\n  },\n  computed: {\n    inNavbar: function inNavbar() {\n      return !isNull(this.bvNavbar);\n    },\n    toggler: function toggler() {\n      var toggle = this.$refs.toggle;\n      return toggle ? toggle.$el || toggle : null;\n    },\n    directionClass: function directionClass() {\n      if (this.dropup) {\n        return 'dropup';\n      } else if (this.dropright) {\n        return 'dropright';\n      } else if (this.dropleft) {\n        return 'dropleft';\n      }\n\n      return '';\n    },\n    boundaryClass: function boundaryClass() {\n      // Position `static` is needed to allow menu to \"breakout\" of the `scrollParent`\n      // boundaries when boundary is anything other than `scrollParent`\n      // See: https://github.com/twbs/bootstrap/issues/24251#issuecomment-341413786\n      return this.boundary !== 'scrollParent' && !this.inNavbar ? 'position-static' : '';\n    }\n  },\n  watch: {\n    visible: function visible(newValue, oldValue) {\n      if (this.visibleChangePrevented) {\n        this.visibleChangePrevented = false;\n        return;\n      }\n\n      if (newValue !== oldValue) {\n        var eventName = newValue ? EVENT_NAME_SHOW : EVENT_NAME_HIDE;\n        var bvEvent = new BvEvent(eventName, {\n          cancelable: true,\n          vueTarget: this,\n          target: this.$refs.menu,\n          relatedTarget: null,\n          componentId: this.safeId ? this.safeId() : this.id || null\n        });\n        this.emitEvent(bvEvent);\n\n        if (bvEvent.defaultPrevented) {\n          // Reset value and exit if canceled\n          this.visibleChangePrevented = true;\n          this.visible = oldValue; // Just in case a child element triggered `this.hide(true)`\n\n          this.$off(EVENT_NAME_HIDDEN, this.focusToggler);\n          return;\n        }\n\n        if (newValue) {\n          this.showMenu();\n        } else {\n          this.hideMenu();\n        }\n      }\n    },\n    disabled: function disabled(newValue, oldValue) {\n      if (newValue !== oldValue && newValue && this.visible) {\n        // Hide dropdown if disabled changes to true\n        this.visible = false;\n      }\n    }\n  },\n  created: function created() {\n    // Create private non-reactive props\n    this.$_popper = null;\n    this.$_hideTimeout = null;\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    // In case we are inside a `<keep-alive>`\n    this.visible = false;\n    this.whileOpenListen(false);\n    this.destroyPopper();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.visible = false;\n    this.whileOpenListen(false);\n    this.destroyPopper();\n    this.clearHideTimeout();\n  },\n  methods: {\n    // Event emitter\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type;\n      this.emitOnRoot(getRootEventName(NAME_DROPDOWN, type), bvEvent);\n      this.$emit(type, bvEvent);\n    },\n    showMenu: function showMenu() {\n      var _this = this;\n\n      if (this.disabled) {\n        /* istanbul ignore next */\n        return;\n      } // Only instantiate Popper.js when dropdown is not in `<b-navbar>`\n\n\n      if (!this.inNavbar) {\n        if (typeof Popper === 'undefined') {\n          /* istanbul ignore next */\n          warn('Popper.js not found. Falling back to CSS positioning', NAME_DROPDOWN);\n        } else {\n          // For dropup with alignment we use the parent element as popper container\n          var el = this.dropup && this.right || this.split ? this.$el : this.$refs.toggle; // Make sure we have a reference to an element, not a component!\n\n          el = el.$el || el; // Instantiate Popper.js\n\n          this.createPopper(el);\n        }\n      } // Ensure other menus are closed\n\n\n      this.emitOnRoot(ROOT_EVENT_NAME_SHOWN, this); // Enable listeners\n\n      this.whileOpenListen(true); // Wrap in `$nextTick()` to ensure menu is fully rendered/shown\n\n      this.$nextTick(function () {\n        // Focus on the menu container on show\n        _this.focusMenu(); // Emit the shown event\n\n\n        _this.$emit(EVENT_NAME_SHOWN);\n      });\n    },\n    hideMenu: function hideMenu() {\n      this.whileOpenListen(false);\n      this.emitOnRoot(ROOT_EVENT_NAME_HIDDEN, this);\n      this.$emit(EVENT_NAME_HIDDEN);\n      this.destroyPopper();\n    },\n    createPopper: function createPopper(element) {\n      this.destroyPopper();\n      this.$_popper = new Popper(element, this.$refs.menu, this.getPopperConfig());\n    },\n    // Ensure popper event listeners are removed cleanly\n    destroyPopper: function destroyPopper() {\n      this.$_popper && this.$_popper.destroy();\n      this.$_popper = null;\n    },\n    // Instructs popper to re-computes the dropdown position\n    // useful if the content changes size\n    updatePopper: function updatePopper() {\n      try {\n        this.$_popper.scheduleUpdate();\n      } catch (_unused) {}\n    },\n    clearHideTimeout: function clearHideTimeout() {\n      clearTimeout(this.$_hideTimeout);\n      this.$_hideTimeout = null;\n    },\n    getPopperConfig: function getPopperConfig() {\n      var placement = PLACEMENT_BOTTOM_START;\n\n      if (this.dropup) {\n        placement = this.right ? PLACEMENT_TOP_END : PLACEMENT_TOP_START;\n      } else if (this.dropright) {\n        placement = PLACEMENT_RIGHT_START;\n      } else if (this.dropleft) {\n        placement = PLACEMENT_LEFT_START;\n      } else if (this.right) {\n        placement = PLACEMENT_BOTTOM_END;\n      }\n\n      var popperConfig = {\n        placement: placement,\n        modifiers: {\n          offset: {\n            offset: this.offset || 0\n          },\n          flip: {\n            enabled: !this.noFlip\n          }\n        }\n      };\n      var boundariesElement = this.boundary;\n\n      if (boundariesElement) {\n        popperConfig.modifiers.preventOverflow = {\n          boundariesElement: boundariesElement\n        };\n      }\n\n      return mergeDeep(popperConfig, this.popperOpts || {});\n    },\n    // Turn listeners on/off while open\n    whileOpenListen: function whileOpenListen(isOpen) {\n      // Hide the dropdown when clicked outside\n      this.listenForClickOut = isOpen; // Hide the dropdown when it loses focus\n\n      this.listenForFocusIn = isOpen; // Hide the dropdown when another dropdown is opened\n\n      var method = isOpen ? '$on' : '$off';\n      this.$root[method](ROOT_EVENT_NAME_SHOWN, this.rootCloseListener);\n    },\n    rootCloseListener: function rootCloseListener(vm) {\n      if (vm !== this) {\n        this.visible = false;\n      }\n    },\n    // Public method to show dropdown\n    show: function show() {\n      var _this2 = this;\n\n      if (this.disabled) {\n        return;\n      } // Wrap in a `requestAF()` to allow any previous\n      // click handling to occur first\n\n\n      requestAF(function () {\n        _this2.visible = true;\n      });\n    },\n    // Public method to hide dropdown\n    hide: function hide() {\n      var refocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      /* istanbul ignore next */\n      if (this.disabled) {\n        return;\n      }\n\n      this.visible = false;\n\n      if (refocus) {\n        // Child element is closing the dropdown on click\n        this.$once(EVENT_NAME_HIDDEN, this.focusToggler);\n      }\n    },\n    // Called only by a button that toggles the menu\n    toggle: function toggle(event) {\n      event = event || {}; // Early exit when not a click event or ENTER, SPACE or DOWN were pressed\n\n      var _event = event,\n          type = _event.type,\n          keyCode = _event.keyCode;\n\n      if (type !== 'click' && !(type === 'keydown' && [CODE_ENTER, CODE_SPACE, CODE_DOWN].indexOf(keyCode) !== -1)) {\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.disabled) {\n        this.visible = false;\n        return;\n      }\n\n      this.$emit(EVENT_NAME_TOGGLE, event);\n      stopEvent(event); // Toggle visibility\n\n      if (this.visible) {\n        this.hide(true);\n      } else {\n        this.show();\n      }\n    },\n    // Mousedown handler for the toggle\n\n    /* istanbul ignore next */\n    onMousedown: function onMousedown(event) {\n      // We prevent the 'mousedown' event for the toggle to stop the\n      // 'focusin' event from being fired\n      // The event would otherwise be picked up by the global 'focusin'\n      // listener and there is no cross-browser solution to detect it\n      // relates to the toggle click\n      // The 'click' event will still be fired and we handle closing\n      // other dropdowns there too\n      // See https://github.com/bootstrap-vue/bootstrap-vue/issues/4328\n      stopEvent(event, {\n        propagation: false\n      });\n    },\n    // Called from dropdown menu context\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (keyCode === CODE_ESC) {\n        // Close on ESC\n        this.onEsc(event);\n      } else if (keyCode === CODE_DOWN) {\n        // Down Arrow\n        this.focusNext(event, false);\n      } else if (keyCode === CODE_UP) {\n        // Up Arrow\n        this.focusNext(event, true);\n      }\n    },\n    // If user presses ESC, close the menu\n    onEsc: function onEsc(event) {\n      if (this.visible) {\n        this.visible = false;\n        stopEvent(event); // Return focus to original trigger button\n\n        this.$once(EVENT_NAME_HIDDEN, this.focusToggler);\n      }\n    },\n    // Called only in split button mode, for the split button\n    onSplitClick: function onSplitClick(event) {\n      /* istanbul ignore next */\n      if (this.disabled) {\n        this.visible = false;\n        return;\n      }\n\n      this.$emit(EVENT_NAME_CLICK, event);\n    },\n    // Shared hide handler between click-out and focus-in events\n    hideHandler: function hideHandler(event) {\n      var _this3 = this;\n\n      var target = event.target;\n\n      if (this.visible && !contains(this.$refs.menu, target) && !contains(this.toggler, target)) {\n        this.clearHideTimeout();\n        this.$_hideTimeout = setTimeout(function () {\n          return _this3.hide();\n        }, this.inNavbar ? 300 : 0);\n      }\n    },\n    // Document click-out listener\n    clickOutHandler: function clickOutHandler(event) {\n      this.hideHandler(event);\n    },\n    // Document focus-in listener\n    focusInHandler: function focusInHandler(event) {\n      this.hideHandler(event);\n    },\n    // Keyboard nav\n    focusNext: function focusNext(event, up) {\n      var _this4 = this;\n\n      // Ignore key up/down on form elements\n      var target = event.target;\n\n      if (!this.visible || event && closest(SELECTOR_FORM_CHILD, target)) {\n        /* istanbul ignore next: should never happen */\n        return;\n      }\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        var items = _this4.getItems();\n\n        if (items.length < 1) {\n          /* istanbul ignore next: should never happen */\n          return;\n        }\n\n        var index = items.indexOf(target);\n\n        if (up && index > 0) {\n          index--;\n        } else if (!up && index < items.length - 1) {\n          index++;\n        }\n\n        if (index < 0) {\n          /* istanbul ignore next: should never happen */\n          index = 0;\n        }\n\n        _this4.focusItem(index, items);\n      });\n    },\n    focusItem: function focusItem(index, items) {\n      var el = items.find(function (el, i) {\n        return i === index;\n      });\n      attemptFocus(el);\n    },\n    getItems: function getItems() {\n      // Get all items\n      return filterVisibles(selectAll(SELECTOR_ITEM, this.$refs.menu));\n    },\n    focusMenu: function focusMenu() {\n      attemptFocus(this.$refs.menu);\n    },\n    focusToggler: function focusToggler() {\n      var _this5 = this;\n\n      this.$nextTick(function () {\n        attemptFocus(_this5.toggler);\n      });\n    }\n  }\n});"]},"metadata":{},"sourceType":"module"}