{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ItemDataService from \"../services/ItemDataService\";\nexport default {\n  name: \"item-list\",\n  data: function data() {\n    return {\n      itens: [],\n      title: \"\",\n      headers: [{\n        text: \"Codigo\",\n        align: \"start\",\n        sortable: false,\n        value: \"codigo\"\n      }, {\n        text: \"Descrição\",\n        value: \"descricao\",\n        sortable: false\n      }, {\n        text: \"Status\",\n        value: \"status\",\n        sortable: false\n      }, {\n        text: \"Disponibilidade\",\n        value: \"disponibilidade\",\n        sortable: false\n      }, {\n        text: \"Data de movimentação\",\n        value: \"dataDeMovimentacao\"\n      }]\n    };\n  },\n  methods: {\n    retrieveItens: function retrieveItens() {\n      var _this = this;\n\n      ItemDataService.getAll().then(function (response) {\n        _this.itens = response.data.map(_this.getDisplayItem);\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    refreshList: function refreshList() {\n      this.retrieveItens();\n    },\n    searchId: function searchId() {\n      var _this2 = this;\n\n      ItemDataService.findById(this.title).then(function (response) {\n        _this2.itens = response.data.map(_this2.getDisplayItem);\n        console.log(response.data);\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    editItem: function editItem(id) {\n      this.$router.push({\n        name: \"item-details\",\n        params: {\n          id: id\n        }\n      });\n    },\n\n    /*deleteTutorial(id) {\r\n      ItemDataService.delete(id)\r\n        .then(() => {\r\n          this.refreshList();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },*/\n    getDisplayItem: function getDisplayItem(item) {\n      return {\n        id: item.id,\n        codigo: item.codigo,\n        descricao: item.descricao.length > 30 ? item.descricao.substr(0, 30) + \"...\" : item.descricao,\n        localizacao: item.localizacao.length > 30 ? item.localizacao.substr(0, 30) + \"...\" : item.localizacao,\n        status: item.status,\n        disponibilidade: item.disponibilidade,\n        dataDeMovimentacao: item.dataDeMovimentacao\n      };\n    }\n  },\n  mounted: function mounted() {\n    this.retrieveItens();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,eAFA;AAGAC,gBACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAH;AAAAG;AAAAD;AAAA,OAFA,EAGA;AAAAF;AAAAG;AAAAD;AAAA,OAHA,EAIA;AAAAF;AAAAG;AAAAD;AAAA,OAJA,EAKA;AAAAF;AAAAG;AAAA,OALA;AAHA;AAWA,GAdA;AAeAC;AACAC,iBADA,2BACA;AAAA;;AACAC,+BACAC,IADA,CACA;AACA;AACAC;AACA,OAJA,EAKAC,KALA,CAKA;AACAD;AACA,OAPA;AAQA,KAVA;AAWAE,eAXA,yBAWA;AACA;AACA,KAbA;AAcAC,YAdA,sBAcA;AAAA;;AACAL,2CACAC,IADA,CACA;AACA;AACAC;AACA,OAJA,EAKAC,KALA,CAKA;AACAD;AACA,OAPA;AAQA,KAvBA;AAwBAI,YAxBA,oBAwBAC,EAxBA,EAwBA;AACA;AAAAlB;AAAAmB;AAAAD;AAAA;AAAA;AACA,KA1BA;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAE,kBApCA,0BAoCAC,IApCA,EAoCA;AACA;AACAH,mBADA;AAEAI,2BAFA;AAGAC,qGAHA;AAIAC,6GAJA;AAKAC,2BALA;AAMAC,6CANA;AAOAC;AAPA;AASA;AA9CA,GAfA;AA+DAC,SA/DA,qBA+DA;AACA;AACA;AAjEA","names":["name","data","itens","title","headers","text","align","sortable","value","methods","retrieveItens","ItemDataService","then","console","catch","refreshList","searchId","editItem","id","params","getDisplayItem","item","codigo","descricao","localizacao","status","disponibilidade","dataDeMovimentacao","mounted"],"sourceRoot":"src/components","sources":["ItemList.vue"],"sourcesContent":["<template>\r\n  <div class=\"list row\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"input-group mb-3\">\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Procurar por código\"\r\n          v-model=\"id\"/>\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-outline-secondary\" type=\"button\"\r\n            @click=\"searchId\"\r\n          >\r\n            Procurar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <h4>Listagem de itens</h4>\r\n      <ul class=\"list-group\">\r\n        <li class=\"list-group-item\"\r\n          :class=\"{ active: index == currentIndex }\"\r\n          v-for=\"(item, index) in itens\"\r\n          :key=\"index\"\r\n          @click=\"setActiveItem(item, index)\"\r\n        >\r\n          {{ item.codigo }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div v-if=\"currentItem\">\r\n        <h4>Tutorial</h4>\r\n        <div>\r\n          <label><strong>Código:</strong></label> {{ currentItem.codigo }}\r\n        </div>\r\n        <div>\r\n          <label><strong>Descrição:</strong></label> {{ currentItem.descricao }}\r\n        </div>\r\n        <div>\r\n          <label><strong>Status:</strong></label> {{ currentItem.status }}\r\n        </div>\r\n\r\n        <router-link :to=\"'/itens/' + currentItem.id\" class=\"badge badge-warning\">Edit</router-link>\r\n      </div>\r\n      <div v-else>\r\n        <br />\r\n        <p>Por favor clique em um item...</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ItemDataService from \"../services/ItemDataService\";\r\nexport default {\r\n  name: \"item-list\",\r\n  data() {\r\n    return {\r\n      itens: [],\r\n      title: \"\",\r\n      headers: [\r\n        { text: \"Codigo\", align: \"start\", sortable: false, value: \"codigo\" },\r\n        { text: \"Descrição\", value: \"descricao\", sortable: false },\r\n        { text: \"Status\", value: \"status\", sortable: false },\r\n\t\t{ text: \"Disponibilidade\", value: \"disponibilidade\", sortable: false },\r\n\t\t{ text: \"Data de movimentação\", value: \"dataDeMovimentacao\" }\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    retrieveItens() {\r\n      ItemDataService.getAll()\r\n        .then((response) => {\r\n          this.itens = response.data.map(this.getDisplayItem);\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    refreshList() {\r\n      this.retrieveItens();\r\n    },\r\n    searchId() {\r\n      ItemDataService.findById(this.title)\r\n        .then((response) => {\r\n          this.itens = response.data.map(this.getDisplayItem);\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    editItem(id) {\r\n      this.$router.push({ name: \"item-details\", params: { id: id } });\r\n    },\r\n    /*deleteTutorial(id) {\r\n      ItemDataService.delete(id)\r\n        .then(() => {\r\n          this.refreshList();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },*/\r\n    getDisplayItem(item) {\r\n      return {\r\n\t\tid: item.id,\r\n        codigo: item.codigo,\r\n        descricao: item.descricao.length > 30 ? item.descricao.substr(0, 30) + \"...\" : item.descricao,\r\n        localizacao: item.localizacao.length > 30 ? item.localizacao.substr(0, 30) + \"...\" : item.localizacao,\r\n\t\tstatus: item.status,\r\n\t\tdisponibilidade: item.disponibilidade,\r\n\t\tdataDeMovimentacao: item.dataDeMovimentacao,\r\n      };\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveItens();\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.list {\r\n  max-width: 750px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}