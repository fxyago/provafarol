{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\n\nvar _watch;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RATING, NAME_FORM_RATING_STAR } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_SELECTED } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { CODE_LEFT, CODE_RIGHT, CODE_UP, CODE_DOWN } from '../../constants/key-codes';\nimport { SLOT_NAME_ICON_CLEAR, SLOT_NAME_ICON_EMPTY, SLOT_NAME_ICON_FULL, SLOT_NAME_ICON_HALF } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptBlur, attemptFocus } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isNull } from '../../utils/inspect';\nimport { isLocaleRTL } from '../../utils/locale';\nimport { mathMax, mathMin } from '../../utils/math';\nimport { makeModelMixin } from '../../utils/model';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formControlProps } from '../../mixins/form-control';\nimport { BIcon } from '../../icons/icon';\nimport { BIconStar, BIconStarHalf, BIconStarFill, BIconX } from '../../icons/icons'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER_STRING,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar MIN_STARS = 3;\nvar DEFAULT_STARS = 5; // --- Helper methods ---\n\nvar computeStars = function computeStars(stars) {\n  return mathMax(MIN_STARS, toInteger(stars, DEFAULT_STARS));\n};\n\nvar clampValue = function clampValue(value, min, max) {\n  return mathMax(mathMin(value, max), min);\n}; // --- Helper components ---\n// @vue/component\n\n\nvar BVFormRatingStar = Vue.extend({\n  name: NAME_FORM_RATING_STAR,\n  mixins: [normalizeSlotMixin],\n  props: {\n    disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n    // If parent is focused\n    focused: makeProp(PROP_TYPE_BOOLEAN, false),\n    hasClear: makeProp(PROP_TYPE_BOOLEAN, false),\n    rating: makeProp(PROP_TYPE_NUMBER, 0),\n    readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n    star: makeProp(PROP_TYPE_NUMBER, 0),\n    variant: makeProp(PROP_TYPE_STRING)\n  },\n  methods: {\n    onClick: function onClick(event) {\n      if (!this.disabled && !this.readonly) {\n        stopEvent(event, {\n          propagation: false\n        });\n        this.$emit(EVENT_NAME_SELECTED, this.star);\n      }\n    }\n  },\n  render: function render(h) {\n    var rating = this.rating,\n        star = this.star,\n        focused = this.focused,\n        hasClear = this.hasClear,\n        variant = this.variant,\n        disabled = this.disabled,\n        readonly = this.readonly;\n    var minStar = hasClear ? 0 : 1;\n    var type = rating >= star ? 'full' : rating >= star - 0.5 ? 'half' : 'empty';\n    var slotScope = {\n      variant: variant,\n      disabled: disabled,\n      readonly: readonly\n    };\n    return h('span', {\n      staticClass: 'b-rating-star',\n      class: {\n        // When not hovered, we use this class to focus the current (or first) star\n        focused: focused && rating === star || !toInteger(rating) && star === minStar,\n        // We add type classes to we can handle RTL styling\n        'b-rating-star-empty': type === 'empty',\n        'b-rating-star-half': type === 'half',\n        'b-rating-star-full': type === 'full'\n      },\n      attrs: {\n        tabindex: !disabled && !readonly ? '-1' : null\n      },\n      on: {\n        click: this.onClick\n      }\n    }, [h('span', {\n      staticClass: 'b-rating-icon'\n    }, [this.normalizeSlot(type, slotScope)])]);\n  }\n}); // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), omit(formControlProps, ['required', 'autofocus'])), formSizeProps), {}, {\n  // CSS color string (overrides variant)\n  color: makeProp(PROP_TYPE_STRING),\n  iconClear: makeProp(PROP_TYPE_STRING, 'x'),\n  iconEmpty: makeProp(PROP_TYPE_STRING, 'star'),\n  iconFull: makeProp(PROP_TYPE_STRING, 'star-fill'),\n  iconHalf: makeProp(PROP_TYPE_STRING, 'star-half'),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Locale for the formatted value (if shown)\n  // Defaults to the browser locale. Falls back to `en`\n  locale: makeProp(PROP_TYPE_ARRAY_STRING),\n  noBorder: makeProp(PROP_TYPE_BOOLEAN, false),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  showClear: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValueMax: makeProp(PROP_TYPE_BOOLEAN, false),\n  stars: makeProp(PROP_TYPE_NUMBER_STRING, DEFAULT_STARS, function (value) {\n    return toInteger(value) >= MIN_STARS;\n  }),\n  variant: makeProp(PROP_TYPE_STRING)\n})), NAME_FORM_RATING); // --- Main component ---\n// @vue/component\n\nexport var BFormRating = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RATING,\n  components: {\n    BIconStar: BIconStar,\n    BIconStarHalf: BIconStarHalf,\n    BIconStarFill: BIconStarFill,\n    BIconX: BIconX\n  },\n  mixins: [idMixin, modelMixin, formSizeMixin],\n  props: props,\n  data: function data() {\n    var value = toFloat(this[MODEL_PROP_NAME], null);\n    var stars = computeStars(this.stars);\n    return {\n      localValue: isNull(value) ? null : clampValue(value, 0, stars),\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedStars: function computedStars() {\n      return computeStars(this.stars);\n    },\n    computedRating: function computedRating() {\n      var value = toFloat(this.localValue, 0);\n      var precision = toInteger(this.precision, 3); // We clamp the value between `0` and stars\n\n      return clampValue(toFloat(value.toFixed(precision)), 0, this.computedStars);\n    },\n    computedLocale: function computedLocale() {\n      var locales = concat(this.locale).filter(identity);\n      var nf = new Intl.NumberFormat(locales);\n      return nf.resolvedOptions().locale;\n    },\n    isInteractive: function isInteractive() {\n      return !this.disabled && !this.readonly;\n    },\n    isRTL: function isRTL() {\n      return isLocaleRTL(this.computedLocale);\n    },\n    formattedRating: function formattedRating() {\n      var precision = toInteger(this.precision);\n      var showValueMax = this.showValueMax;\n      var locale = this.computedLocale;\n      var formatOptions = {\n        notation: 'standard',\n        minimumFractionDigits: isNaN(precision) ? 0 : precision,\n        maximumFractionDigits: isNaN(precision) ? 3 : precision\n      };\n      var stars = this.computedStars.toLocaleString(locale);\n      var value = this.localValue;\n      value = isNull(value) ? showValueMax ? '-' : '' : value.toLocaleString(locale, formatOptions);\n      return showValueMax ? \"\".concat(value, \"/\").concat(stars) : value;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      var value = toFloat(newValue, null);\n      this.localValue = isNull(value) ? null : clampValue(value, 0, this.computedStars);\n    }\n  }), _defineProperty(_watch, \"localValue\", function localValue(newValue, oldValue) {\n    if (newValue !== oldValue && newValue !== (this.value || 0)) {\n      this.$emit(MODEL_EVENT_NAME, newValue || null);\n    }\n  }), _defineProperty(_watch, \"disabled\", function disabled(newValue) {\n    if (newValue) {\n      this.hasFocus = false;\n      this.blur();\n    }\n  }), _watch),\n  methods: {\n    // --- Public methods ---\n    focus: function focus() {\n      if (!this.disabled) {\n        attemptFocus(this.$el);\n      }\n    },\n    blur: function blur() {\n      if (!this.disabled) {\n        attemptBlur(this.$el);\n      }\n    },\n    // --- Private methods ---\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (this.isInteractive && arrayIncludes([CODE_LEFT, CODE_DOWN, CODE_RIGHT, CODE_UP], keyCode)) {\n        stopEvent(event, {\n          propagation: false\n        });\n        var value = toInteger(this.localValue, 0);\n        var min = this.showClear ? 0 : 1;\n        var stars = this.computedStars; // In RTL mode, LEFT/RIGHT are swapped\n\n        var amountRtl = this.isRTL ? -1 : 1;\n\n        if (keyCode === CODE_LEFT) {\n          this.localValue = clampValue(value - amountRtl, min, stars) || null;\n        } else if (keyCode === CODE_RIGHT) {\n          this.localValue = clampValue(value + amountRtl, min, stars);\n        } else if (keyCode === CODE_DOWN) {\n          this.localValue = clampValue(value - 1, min, stars) || null;\n        } else if (keyCode === CODE_UP) {\n          this.localValue = clampValue(value + 1, min, stars);\n        }\n      }\n    },\n    onSelected: function onSelected(value) {\n      if (this.isInteractive) {\n        this.localValue = value;\n      }\n    },\n    onFocus: function onFocus(event) {\n      this.hasFocus = !this.isInteractive ? false : event.type === 'focus';\n    },\n    // --- Render methods ---\n    renderIcon: function renderIcon(icon) {\n      return this.$createElement(BIcon, {\n        props: {\n          icon: icon,\n          variant: this.disabled || this.color ? null : this.variant || null\n        }\n      });\n    },\n    iconEmptyFn: function iconEmptyFn() {\n      return this.renderIcon(this.iconEmpty);\n    },\n    iconHalfFn: function iconHalfFn() {\n      return this.renderIcon(this.iconHalf);\n    },\n    iconFullFn: function iconFullFn() {\n      return this.renderIcon(this.iconFull);\n    },\n    iconClearFn: function iconClearFn() {\n      return this.$createElement(BIcon, {\n        props: {\n          icon: this.iconClear\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var disabled = this.disabled,\n        readonly = this.readonly,\n        name = this.name,\n        form = this.form,\n        inline = this.inline,\n        variant = this.variant,\n        color = this.color,\n        noBorder = this.noBorder,\n        hasFocus = this.hasFocus,\n        computedRating = this.computedRating,\n        computedStars = this.computedStars,\n        formattedRating = this.formattedRating,\n        showClear = this.showClear,\n        isRTL = this.isRTL,\n        isInteractive = this.isInteractive,\n        $scopedSlots = this.$scopedSlots;\n    var $content = [];\n\n    if (showClear && !disabled && !readonly) {\n      var $icon = h('span', {\n        staticClass: 'b-rating-icon'\n      }, [($scopedSlots[SLOT_NAME_ICON_CLEAR] || this.iconClearFn)()]);\n      $content.push(h('span', {\n        staticClass: 'b-rating-star b-rating-star-clear flex-grow-1',\n        class: {\n          focused: hasFocus && computedRating === 0\n        },\n        attrs: {\n          tabindex: isInteractive ? '-1' : null\n        },\n        on: {\n          click: function click() {\n            return _this.onSelected(null);\n          }\n        },\n        key: 'clear'\n      }, [$icon]));\n    }\n\n    for (var index = 0; index < computedStars; index++) {\n      var value = index + 1;\n      $content.push(h(BVFormRatingStar, {\n        staticClass: 'flex-grow-1',\n        style: color && !disabled ? {\n          color: color\n        } : {},\n        props: {\n          rating: computedRating,\n          star: value,\n          variant: disabled ? null : variant || null,\n          disabled: disabled,\n          readonly: readonly,\n          focused: hasFocus,\n          hasClear: showClear\n        },\n        on: {\n          selected: this.onSelected\n        },\n        scopedSlots: {\n          empty: $scopedSlots[SLOT_NAME_ICON_EMPTY] || this.iconEmptyFn,\n          half: $scopedSlots[SLOT_NAME_ICON_HALF] || this.iconHalfFn,\n          full: $scopedSlots[SLOT_NAME_ICON_FULL] || this.iconFullFn\n        },\n        key: index\n      }));\n    }\n\n    if (name) {\n      $content.push(h('input', {\n        attrs: {\n          type: 'hidden',\n          value: isNull(this.localValue) ? '' : computedRating,\n          name: name,\n          form: form || null\n        },\n        key: 'hidden'\n      }));\n    }\n\n    if (this.showValue) {\n      $content.push(h('b', {\n        staticClass: 'b-rating-value flex-grow-1',\n        attrs: {\n          'aria-hidden': 'true'\n        },\n        key: 'value'\n      }, toString(formattedRating)));\n    }\n\n    return h('output', {\n      staticClass: 'b-rating form-control align-items-center',\n      class: [{\n        'd-inline-flex': inline,\n        'd-flex': !inline,\n        'border-0': noBorder,\n        disabled: disabled,\n        readonly: !disabled && readonly\n      }, this.sizeFormClass],\n      attrs: {\n        id: this.safeId(),\n        dir: isRTL ? 'rtl' : 'ltr',\n        tabindex: disabled ? null : '0',\n        disabled: disabled,\n        role: 'slider',\n        'aria-disabled': disabled ? 'true' : null,\n        'aria-readonly': !disabled && readonly ? 'true' : null,\n        'aria-live': 'off',\n        'aria-valuemin': showClear ? '0' : '1',\n        'aria-valuemax': toString(computedStars),\n        'aria-valuenow': computedRating ? toString(computedRating) : null\n      },\n      on: {\n        keydown: this.onKeydown,\n        focus: this.onFocus,\n        blur: this.onFocus\n      }\n    }, $content);\n  }\n});","map":{"version":3,"sources":["C:/Users/Yago/Documents/Eclipse/Yago/farolshopping/src/frontend/farolshopping/node_modules/bootstrap-vue/esm/components/form-rating/form-rating.js"],"names":["_watch","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","Vue","NAME_FORM_RATING","NAME_FORM_RATING_STAR","EVENT_NAME_CHANGE","EVENT_NAME_SELECTED","PROP_TYPE_ARRAY_STRING","PROP_TYPE_BOOLEAN","PROP_TYPE_NUMBER","PROP_TYPE_NUMBER_STRING","PROP_TYPE_STRING","CODE_LEFT","CODE_RIGHT","CODE_UP","CODE_DOWN","SLOT_NAME_ICON_CLEAR","SLOT_NAME_ICON_EMPTY","SLOT_NAME_ICON_FULL","SLOT_NAME_ICON_HALF","arrayIncludes","concat","attemptBlur","attemptFocus","stopEvent","identity","isNull","isLocaleRTL","mathMax","mathMin","makeModelMixin","toInteger","toFloat","omit","sortKeys","makeProp","makePropsConfigurable","toString","formSizeMixin","props","formSizeProps","idMixin","idProps","normalizeSlotMixin","formControlProps","BIcon","BIconStar","BIconStarHalf","BIconStarFill","BIconX","_makeModelMixin","type","event","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","MIN_STARS","DEFAULT_STARS","computeStars","stars","clampValue","min","max","BVFormRatingStar","extend","name","mixins","disabled","focused","hasClear","rating","readonly","star","variant","methods","onClick","propagation","$emit","render","h","minStar","slotScope","staticClass","class","attrs","tabindex","on","click","normalizeSlot","color","iconClear","iconEmpty","iconFull","iconHalf","inline","locale","noBorder","precision","showClear","showValue","showValueMax","BFormRating","components","data","localValue","hasFocus","computed","computedStars","computedRating","toFixed","computedLocale","locales","nf","Intl","NumberFormat","resolvedOptions","isInteractive","isRTL","formattedRating","formatOptions","notation","minimumFractionDigits","isNaN","maximumFractionDigits","toLocaleString","watch","newValue","oldValue","blur","focus","$el","onKeydown","keyCode","amountRtl","onSelected","onFocus","renderIcon","icon","$createElement","iconEmptyFn","iconHalfFn","iconFullFn","iconClearFn","_this","form","$scopedSlots","$content","$icon","index","style","selected","scopedSlots","empty","half","full","sizeFormClass","id","safeId","dir","role","keydown"],"mappings":"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","sourcesContent":["var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RATING, NAME_FORM_RATING_STAR } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_SELECTED } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { CODE_LEFT, CODE_RIGHT, CODE_UP, CODE_DOWN } from '../../constants/key-codes';\nimport { SLOT_NAME_ICON_CLEAR, SLOT_NAME_ICON_EMPTY, SLOT_NAME_ICON_FULL, SLOT_NAME_ICON_HALF } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptBlur, attemptFocus } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isNull } from '../../utils/inspect';\nimport { isLocaleRTL } from '../../utils/locale';\nimport { mathMax, mathMin } from '../../utils/math';\nimport { makeModelMixin } from '../../utils/model';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { toString } from '../../utils/string';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formControlProps } from '../../mixins/form-control';\nimport { BIcon } from '../../icons/icon';\nimport { BIconStar, BIconStarHalf, BIconStarFill, BIconX } from '../../icons/icons'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER_STRING,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar MIN_STARS = 3;\nvar DEFAULT_STARS = 5; // --- Helper methods ---\n\nvar computeStars = function computeStars(stars) {\n  return mathMax(MIN_STARS, toInteger(stars, DEFAULT_STARS));\n};\n\nvar clampValue = function clampValue(value, min, max) {\n  return mathMax(mathMin(value, max), min);\n}; // --- Helper components ---\n// @vue/component\n\n\nvar BVFormRatingStar = Vue.extend({\n  name: NAME_FORM_RATING_STAR,\n  mixins: [normalizeSlotMixin],\n  props: {\n    disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n    // If parent is focused\n    focused: makeProp(PROP_TYPE_BOOLEAN, false),\n    hasClear: makeProp(PROP_TYPE_BOOLEAN, false),\n    rating: makeProp(PROP_TYPE_NUMBER, 0),\n    readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n    star: makeProp(PROP_TYPE_NUMBER, 0),\n    variant: makeProp(PROP_TYPE_STRING)\n  },\n  methods: {\n    onClick: function onClick(event) {\n      if (!this.disabled && !this.readonly) {\n        stopEvent(event, {\n          propagation: false\n        });\n        this.$emit(EVENT_NAME_SELECTED, this.star);\n      }\n    }\n  },\n  render: function render(h) {\n    var rating = this.rating,\n        star = this.star,\n        focused = this.focused,\n        hasClear = this.hasClear,\n        variant = this.variant,\n        disabled = this.disabled,\n        readonly = this.readonly;\n    var minStar = hasClear ? 0 : 1;\n    var type = rating >= star ? 'full' : rating >= star - 0.5 ? 'half' : 'empty';\n    var slotScope = {\n      variant: variant,\n      disabled: disabled,\n      readonly: readonly\n    };\n    return h('span', {\n      staticClass: 'b-rating-star',\n      class: {\n        // When not hovered, we use this class to focus the current (or first) star\n        focused: focused && rating === star || !toInteger(rating) && star === minStar,\n        // We add type classes to we can handle RTL styling\n        'b-rating-star-empty': type === 'empty',\n        'b-rating-star-half': type === 'half',\n        'b-rating-star-full': type === 'full'\n      },\n      attrs: {\n        tabindex: !disabled && !readonly ? '-1' : null\n      },\n      on: {\n        click: this.onClick\n      }\n    }, [h('span', {\n      staticClass: 'b-rating-icon'\n    }, [this.normalizeSlot(type, slotScope)])]);\n  }\n}); // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), omit(formControlProps, ['required', 'autofocus'])), formSizeProps), {}, {\n  // CSS color string (overrides variant)\n  color: makeProp(PROP_TYPE_STRING),\n  iconClear: makeProp(PROP_TYPE_STRING, 'x'),\n  iconEmpty: makeProp(PROP_TYPE_STRING, 'star'),\n  iconFull: makeProp(PROP_TYPE_STRING, 'star-fill'),\n  iconHalf: makeProp(PROP_TYPE_STRING, 'star-half'),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Locale for the formatted value (if shown)\n  // Defaults to the browser locale. Falls back to `en`\n  locale: makeProp(PROP_TYPE_ARRAY_STRING),\n  noBorder: makeProp(PROP_TYPE_BOOLEAN, false),\n  precision: makeProp(PROP_TYPE_NUMBER_STRING),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  showClear: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValue: makeProp(PROP_TYPE_BOOLEAN, false),\n  showValueMax: makeProp(PROP_TYPE_BOOLEAN, false),\n  stars: makeProp(PROP_TYPE_NUMBER_STRING, DEFAULT_STARS, function (value) {\n    return toInteger(value) >= MIN_STARS;\n  }),\n  variant: makeProp(PROP_TYPE_STRING)\n})), NAME_FORM_RATING); // --- Main component ---\n// @vue/component\n\nexport var BFormRating = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RATING,\n  components: {\n    BIconStar: BIconStar,\n    BIconStarHalf: BIconStarHalf,\n    BIconStarFill: BIconStarFill,\n    BIconX: BIconX\n  },\n  mixins: [idMixin, modelMixin, formSizeMixin],\n  props: props,\n  data: function data() {\n    var value = toFloat(this[MODEL_PROP_NAME], null);\n    var stars = computeStars(this.stars);\n    return {\n      localValue: isNull(value) ? null : clampValue(value, 0, stars),\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedStars: function computedStars() {\n      return computeStars(this.stars);\n    },\n    computedRating: function computedRating() {\n      var value = toFloat(this.localValue, 0);\n      var precision = toInteger(this.precision, 3); // We clamp the value between `0` and stars\n\n      return clampValue(toFloat(value.toFixed(precision)), 0, this.computedStars);\n    },\n    computedLocale: function computedLocale() {\n      var locales = concat(this.locale).filter(identity);\n      var nf = new Intl.NumberFormat(locales);\n      return nf.resolvedOptions().locale;\n    },\n    isInteractive: function isInteractive() {\n      return !this.disabled && !this.readonly;\n    },\n    isRTL: function isRTL() {\n      return isLocaleRTL(this.computedLocale);\n    },\n    formattedRating: function formattedRating() {\n      var precision = toInteger(this.precision);\n      var showValueMax = this.showValueMax;\n      var locale = this.computedLocale;\n      var formatOptions = {\n        notation: 'standard',\n        minimumFractionDigits: isNaN(precision) ? 0 : precision,\n        maximumFractionDigits: isNaN(precision) ? 3 : precision\n      };\n      var stars = this.computedStars.toLocaleString(locale);\n      var value = this.localValue;\n      value = isNull(value) ? showValueMax ? '-' : '' : value.toLocaleString(locale, formatOptions);\n      return showValueMax ? \"\".concat(value, \"/\").concat(stars) : value;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      var value = toFloat(newValue, null);\n      this.localValue = isNull(value) ? null : clampValue(value, 0, this.computedStars);\n    }\n  }), _defineProperty(_watch, \"localValue\", function localValue(newValue, oldValue) {\n    if (newValue !== oldValue && newValue !== (this.value || 0)) {\n      this.$emit(MODEL_EVENT_NAME, newValue || null);\n    }\n  }), _defineProperty(_watch, \"disabled\", function disabled(newValue) {\n    if (newValue) {\n      this.hasFocus = false;\n      this.blur();\n    }\n  }), _watch),\n  methods: {\n    // --- Public methods ---\n    focus: function focus() {\n      if (!this.disabled) {\n        attemptFocus(this.$el);\n      }\n    },\n    blur: function blur() {\n      if (!this.disabled) {\n        attemptBlur(this.$el);\n      }\n    },\n    // --- Private methods ---\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (this.isInteractive && arrayIncludes([CODE_LEFT, CODE_DOWN, CODE_RIGHT, CODE_UP], keyCode)) {\n        stopEvent(event, {\n          propagation: false\n        });\n        var value = toInteger(this.localValue, 0);\n        var min = this.showClear ? 0 : 1;\n        var stars = this.computedStars; // In RTL mode, LEFT/RIGHT are swapped\n\n        var amountRtl = this.isRTL ? -1 : 1;\n\n        if (keyCode === CODE_LEFT) {\n          this.localValue = clampValue(value - amountRtl, min, stars) || null;\n        } else if (keyCode === CODE_RIGHT) {\n          this.localValue = clampValue(value + amountRtl, min, stars);\n        } else if (keyCode === CODE_DOWN) {\n          this.localValue = clampValue(value - 1, min, stars) || null;\n        } else if (keyCode === CODE_UP) {\n          this.localValue = clampValue(value + 1, min, stars);\n        }\n      }\n    },\n    onSelected: function onSelected(value) {\n      if (this.isInteractive) {\n        this.localValue = value;\n      }\n    },\n    onFocus: function onFocus(event) {\n      this.hasFocus = !this.isInteractive ? false : event.type === 'focus';\n    },\n    // --- Render methods ---\n    renderIcon: function renderIcon(icon) {\n      return this.$createElement(BIcon, {\n        props: {\n          icon: icon,\n          variant: this.disabled || this.color ? null : this.variant || null\n        }\n      });\n    },\n    iconEmptyFn: function iconEmptyFn() {\n      return this.renderIcon(this.iconEmpty);\n    },\n    iconHalfFn: function iconHalfFn() {\n      return this.renderIcon(this.iconHalf);\n    },\n    iconFullFn: function iconFullFn() {\n      return this.renderIcon(this.iconFull);\n    },\n    iconClearFn: function iconClearFn() {\n      return this.$createElement(BIcon, {\n        props: {\n          icon: this.iconClear\n        }\n      });\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var disabled = this.disabled,\n        readonly = this.readonly,\n        name = this.name,\n        form = this.form,\n        inline = this.inline,\n        variant = this.variant,\n        color = this.color,\n        noBorder = this.noBorder,\n        hasFocus = this.hasFocus,\n        computedRating = this.computedRating,\n        computedStars = this.computedStars,\n        formattedRating = this.formattedRating,\n        showClear = this.showClear,\n        isRTL = this.isRTL,\n        isInteractive = this.isInteractive,\n        $scopedSlots = this.$scopedSlots;\n    var $content = [];\n\n    if (showClear && !disabled && !readonly) {\n      var $icon = h('span', {\n        staticClass: 'b-rating-icon'\n      }, [($scopedSlots[SLOT_NAME_ICON_CLEAR] || this.iconClearFn)()]);\n      $content.push(h('span', {\n        staticClass: 'b-rating-star b-rating-star-clear flex-grow-1',\n        class: {\n          focused: hasFocus && computedRating === 0\n        },\n        attrs: {\n          tabindex: isInteractive ? '-1' : null\n        },\n        on: {\n          click: function click() {\n            return _this.onSelected(null);\n          }\n        },\n        key: 'clear'\n      }, [$icon]));\n    }\n\n    for (var index = 0; index < computedStars; index++) {\n      var value = index + 1;\n      $content.push(h(BVFormRatingStar, {\n        staticClass: 'flex-grow-1',\n        style: color && !disabled ? {\n          color: color\n        } : {},\n        props: {\n          rating: computedRating,\n          star: value,\n          variant: disabled ? null : variant || null,\n          disabled: disabled,\n          readonly: readonly,\n          focused: hasFocus,\n          hasClear: showClear\n        },\n        on: {\n          selected: this.onSelected\n        },\n        scopedSlots: {\n          empty: $scopedSlots[SLOT_NAME_ICON_EMPTY] || this.iconEmptyFn,\n          half: $scopedSlots[SLOT_NAME_ICON_HALF] || this.iconHalfFn,\n          full: $scopedSlots[SLOT_NAME_ICON_FULL] || this.iconFullFn\n        },\n        key: index\n      }));\n    }\n\n    if (name) {\n      $content.push(h('input', {\n        attrs: {\n          type: 'hidden',\n          value: isNull(this.localValue) ? '' : computedRating,\n          name: name,\n          form: form || null\n        },\n        key: 'hidden'\n      }));\n    }\n\n    if (this.showValue) {\n      $content.push(h('b', {\n        staticClass: 'b-rating-value flex-grow-1',\n        attrs: {\n          'aria-hidden': 'true'\n        },\n        key: 'value'\n      }, toString(formattedRating)));\n    }\n\n    return h('output', {\n      staticClass: 'b-rating form-control align-items-center',\n      class: [{\n        'd-inline-flex': inline,\n        'd-flex': !inline,\n        'border-0': noBorder,\n        disabled: disabled,\n        readonly: !disabled && readonly\n      }, this.sizeFormClass],\n      attrs: {\n        id: this.safeId(),\n        dir: isRTL ? 'rtl' : 'ltr',\n        tabindex: disabled ? null : '0',\n        disabled: disabled,\n        role: 'slider',\n        'aria-disabled': disabled ? 'true' : null,\n        'aria-readonly': !disabled && readonly ? 'true' : null,\n        'aria-live': 'off',\n        'aria-valuemin': showClear ? '0' : '1',\n        'aria-valuemax': toString(computedStars),\n        'aria-valuenow': computedRating ? toString(computedRating) : null\n      },\n      on: {\n        keydown: this.onKeydown,\n        focus: this.onFocus,\n        blur: this.onFocus\n      }\n    }, $content);\n  }\n});"]},"metadata":{},"sourceType":"module"}