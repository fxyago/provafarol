{"ast":null,"code":"// Base on-demand component for tooltip / popover templates\n//\n// Currently:\n//   Responsible for positioning and transitioning the template\n//   Templates are only instantiated when shown, and destroyed when hidden\n//\nimport Popper from 'popper.js';\nimport { Vue } from '../../../vue';\nimport { NAME_POPPER } from '../../../constants/components';\nimport { EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, HOOK_EVENT_NAME_DESTROYED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../../constants/props';\nimport { HTMLElement, SVGElement } from '../../../constants/safe-types';\nimport { getCS, requestAF, select } from '../../../utils/dom';\nimport { toFloat } from '../../../utils/number';\nimport { makeProp } from '../../../utils/props';\nimport { BVTransition } from '../../transition/bv-transition'; // --- Constants ---\n\nvar AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  LEFT: 'left',\n  TOPLEFT: 'top',\n  TOPRIGHT: 'top',\n  RIGHTTOP: 'right',\n  RIGHTBOTTOM: 'right',\n  BOTTOMLEFT: 'bottom',\n  BOTTOMRIGHT: 'bottom',\n  LEFTTOP: 'left',\n  LEFTBOTTOM: 'left'\n};\nvar OffsetMap = {\n  AUTO: 0,\n  TOPLEFT: -1,\n  TOP: 0,\n  TOPRIGHT: +1,\n  RIGHTTOP: -1,\n  RIGHT: 0,\n  RIGHTBOTTOM: +1,\n  BOTTOMLEFT: -1,\n  BOTTOM: 0,\n  BOTTOMRIGHT: +1,\n  LEFTTOP: -1,\n  LEFT: 0,\n  LEFTBOTTOM: +1\n}; // --- Props ---\n\nexport var props = {\n  // The minimum distance (in `px`) from the edge of the\n  // tooltip/popover that the arrow can be positioned\n  arrowPadding: makeProp(PROP_TYPE_NUMBER_STRING, 6),\n  // 'scrollParent', 'viewport', 'window', or `Element`\n  boundary: makeProp([HTMLElement, PROP_TYPE_STRING], 'scrollParent'),\n  // Tooltip/popover will try and stay away from\n  // boundary edge by this many pixels\n  boundaryPadding: makeProp(PROP_TYPE_NUMBER_STRING, 5),\n  fallbackPlacement: makeProp(PROP_TYPE_ARRAY_STRING, 'flip'),\n  offset: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  placement: makeProp(PROP_TYPE_STRING, 'top'),\n  // Element that the tooltip/popover is positioned relative to\n  target: makeProp([HTMLElement, SVGElement])\n}; // --- Main component ---\n// @vue/component\n\nexport var BVPopper = /*#__PURE__*/Vue.extend({\n  name: NAME_POPPER,\n  props: props,\n  data: function data() {\n    return {\n      // reactive props set by parent\n      noFade: false,\n      // State related data\n      localShow: true,\n      attachment: this.getAttachment(this.placement)\n    };\n  },\n  computed: {\n    /* istanbul ignore next */\n    templateType: function templateType() {\n      // Overridden by template component\n      return 'unknown';\n    },\n    popperConfig: function popperConfig() {\n      var _this = this;\n\n      var placement = this.placement;\n      return {\n        placement: this.getAttachment(placement),\n        modifiers: {\n          offset: {\n            offset: this.getOffset(placement)\n          },\n          flip: {\n            behavior: this.fallbackPlacement\n          },\n          // `arrow.element` can also be a reference to an HTML Element\n          // maybe we should make this a `$ref` in the templates?\n          arrow: {\n            element: '.arrow'\n          },\n          preventOverflow: {\n            padding: this.boundaryPadding,\n            boundariesElement: this.boundary\n          }\n        },\n        onCreate: function onCreate(data) {\n          // Handle flipping arrow classes\n          if (data.originalPlacement !== data.placement) {\n            /* istanbul ignore next: can't test in JSDOM */\n            _this.popperPlacementChange(data);\n          }\n        },\n        onUpdate: function onUpdate(data) {\n          // Handle flipping arrow classes\n          _this.popperPlacementChange(data);\n        }\n      };\n    }\n  },\n  created: function created() {\n    var _this2 = this; // Note: We are created on-demand, and should be guaranteed that\n    // DOM is rendered/ready by the time the created hook runs\n\n\n    this.$_popper = null; // Ensure we show as we mount\n\n    this.localShow = true; // Create popper instance before shown\n\n    this.$on(EVENT_NAME_SHOW, function (el) {\n      _this2.popperCreate(el);\n    }); // Self destruct handler\n\n    var handleDestroy = function handleDestroy() {\n      _this2.$nextTick(function () {\n        // In a `requestAF()` to release control back to application\n        requestAF(function () {\n          _this2.$destroy();\n        });\n      });\n    }; // Self destruct if parent destroyed\n\n\n    this.$parent.$once(HOOK_EVENT_NAME_DESTROYED, handleDestroy); // Self destruct after hidden\n\n    this.$once(EVENT_NAME_HIDDEN, handleDestroy);\n  },\n  beforeMount: function beforeMount() {\n    // Ensure that the attachment position is correct before mounting\n    // as our propsData is added after `new Template({...})`\n    this.attachment = this.getAttachment(this.placement);\n  },\n  updated: function updated() {\n    // Update popper if needed\n    // TODO: Should this be a watcher on `this.popperConfig` instead?\n    this.updatePopper();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroyPopper();\n  },\n  destroyed: function destroyed() {\n    // Make sure template is removed from DOM\n    var el = this.$el;\n    el && el.parentNode && el.parentNode.removeChild(el);\n  },\n  methods: {\n    // \"Public\" method to trigger hide template\n    hide: function hide() {\n      this.localShow = false;\n    },\n    // Private\n    getAttachment: function getAttachment(placement) {\n      return AttachmentMap[String(placement).toUpperCase()] || 'auto';\n    },\n    getOffset: function getOffset(placement) {\n      if (!this.offset) {\n        // Could set a ref for the arrow element\n        var arrow = this.$refs.arrow || select('.arrow', this.$el);\n        var arrowOffset = toFloat(getCS(arrow).width, 0) + toFloat(this.arrowPadding, 0);\n\n        switch (OffsetMap[String(placement).toUpperCase()] || 0) {\n          /* istanbul ignore next: can't test in JSDOM */\n          case +1:\n            /* istanbul ignore next: can't test in JSDOM */\n            return \"+50%p - \".concat(arrowOffset, \"px\");\n\n          /* istanbul ignore next: can't test in JSDOM */\n\n          case -1:\n            /* istanbul ignore next: can't test in JSDOM */\n            return \"-50%p + \".concat(arrowOffset, \"px\");\n\n          default:\n            return 0;\n        }\n      }\n      /* istanbul ignore next */\n\n\n      return this.offset;\n    },\n    popperCreate: function popperCreate(el) {\n      this.destroyPopper(); // We use `el` rather than `this.$el` just in case the original\n      // mountpoint root element type was changed by the template\n\n      this.$_popper = new Popper(this.target, el, this.popperConfig);\n    },\n    destroyPopper: function destroyPopper() {\n      this.$_popper && this.$_popper.destroy();\n      this.$_popper = null;\n    },\n    updatePopper: function updatePopper() {\n      this.$_popper && this.$_popper.scheduleUpdate();\n    },\n    popperPlacementChange: function popperPlacementChange(data) {\n      // Callback used by popper to adjust the arrow placement\n      this.attachment = this.getAttachment(data.placement);\n    },\n\n    /* istanbul ignore next */\n    renderTemplate: function renderTemplate(h) {\n      // Will be overridden by templates\n      return h('div');\n    }\n  },\n  render: function render(h) {\n    var _this3 = this;\n\n    var noFade = this.noFade; // Note: 'show' and 'fade' classes are only appled during transition\n\n    return h(BVTransition, {\n      // Transitions as soon as mounted\n      props: {\n        appear: true,\n        noFade: noFade\n      },\n      on: {\n        // Events used by parent component/instance\n        beforeEnter: function beforeEnter(el) {\n          return _this3.$emit(EVENT_NAME_SHOW, el);\n        },\n        afterEnter: function afterEnter(el) {\n          return _this3.$emit(EVENT_NAME_SHOWN, el);\n        },\n        beforeLeave: function beforeLeave(el) {\n          return _this3.$emit(EVENT_NAME_HIDE, el);\n        },\n        afterLeave: function afterLeave(el) {\n          return _this3.$emit(EVENT_NAME_HIDDEN, el);\n        }\n      }\n    }, [this.localShow ? this.renderTemplate(h) : h()]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Yago/Documents/Eclipse/Yago/farolshopping/src/frontend/farolshopping/node_modules/bootstrap-vue/esm/components/tooltip/helpers/bv-popper.js"],"names":["Popper","Vue","NAME_POPPER","EVENT_NAME_HIDDEN","EVENT_NAME_HIDE","EVENT_NAME_SHOW","EVENT_NAME_SHOWN","HOOK_EVENT_NAME_DESTROYED","PROP_TYPE_ARRAY_STRING","PROP_TYPE_NUMBER_STRING","PROP_TYPE_STRING","HTMLElement","SVGElement","getCS","requestAF","select","toFloat","makeProp","BVTransition","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","TOPLEFT","TOPRIGHT","RIGHTTOP","RIGHTBOTTOM","BOTTOMLEFT","BOTTOMRIGHT","LEFTTOP","LEFTBOTTOM","OffsetMap","props","arrowPadding","boundary","boundaryPadding","fallbackPlacement","offset","placement","target","BVPopper","extend","name","data","noFade","localShow","attachment","getAttachment","computed","templateType","popperConfig","_this","modifiers","getOffset","flip","behavior","arrow","element","preventOverflow","padding","boundariesElement","onCreate","originalPlacement","popperPlacementChange","onUpdate","created","_this2","$_popper","$on","el","popperCreate","handleDestroy","$nextTick","$destroy","$parent","$once","beforeMount","updated","updatePopper","beforeDestroy","destroyPopper","destroyed","$el","parentNode","removeChild","methods","hide","String","toUpperCase","$refs","arrowOffset","width","concat","destroy","scheduleUpdate","renderTemplate","h","render","_this3","appear","on","beforeEnter","$emit","afterEnter","beforeLeave","afterLeave"],"mappings":"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","sourcesContent":["// Base on-demand component for tooltip / popover templates\n//\n// Currently:\n//   Responsible for positioning and transitioning the template\n//   Templates are only instantiated when shown, and destroyed when hidden\n//\nimport Popper from 'popper.js';\nimport { Vue } from '../../../vue';\nimport { NAME_POPPER } from '../../../constants/components';\nimport { EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, HOOK_EVENT_NAME_DESTROYED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../../constants/props';\nimport { HTMLElement, SVGElement } from '../../../constants/safe-types';\nimport { getCS, requestAF, select } from '../../../utils/dom';\nimport { toFloat } from '../../../utils/number';\nimport { makeProp } from '../../../utils/props';\nimport { BVTransition } from '../../transition/bv-transition'; // --- Constants ---\n\nvar AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  LEFT: 'left',\n  TOPLEFT: 'top',\n  TOPRIGHT: 'top',\n  RIGHTTOP: 'right',\n  RIGHTBOTTOM: 'right',\n  BOTTOMLEFT: 'bottom',\n  BOTTOMRIGHT: 'bottom',\n  LEFTTOP: 'left',\n  LEFTBOTTOM: 'left'\n};\nvar OffsetMap = {\n  AUTO: 0,\n  TOPLEFT: -1,\n  TOP: 0,\n  TOPRIGHT: +1,\n  RIGHTTOP: -1,\n  RIGHT: 0,\n  RIGHTBOTTOM: +1,\n  BOTTOMLEFT: -1,\n  BOTTOM: 0,\n  BOTTOMRIGHT: +1,\n  LEFTTOP: -1,\n  LEFT: 0,\n  LEFTBOTTOM: +1\n}; // --- Props ---\n\nexport var props = {\n  // The minimum distance (in `px`) from the edge of the\n  // tooltip/popover that the arrow can be positioned\n  arrowPadding: makeProp(PROP_TYPE_NUMBER_STRING, 6),\n  // 'scrollParent', 'viewport', 'window', or `Element`\n  boundary: makeProp([HTMLElement, PROP_TYPE_STRING], 'scrollParent'),\n  // Tooltip/popover will try and stay away from\n  // boundary edge by this many pixels\n  boundaryPadding: makeProp(PROP_TYPE_NUMBER_STRING, 5),\n  fallbackPlacement: makeProp(PROP_TYPE_ARRAY_STRING, 'flip'),\n  offset: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  placement: makeProp(PROP_TYPE_STRING, 'top'),\n  // Element that the tooltip/popover is positioned relative to\n  target: makeProp([HTMLElement, SVGElement])\n}; // --- Main component ---\n// @vue/component\n\nexport var BVPopper = /*#__PURE__*/Vue.extend({\n  name: NAME_POPPER,\n  props: props,\n  data: function data() {\n    return {\n      // reactive props set by parent\n      noFade: false,\n      // State related data\n      localShow: true,\n      attachment: this.getAttachment(this.placement)\n    };\n  },\n  computed: {\n    /* istanbul ignore next */\n    templateType: function templateType() {\n      // Overridden by template component\n      return 'unknown';\n    },\n    popperConfig: function popperConfig() {\n      var _this = this;\n\n      var placement = this.placement;\n      return {\n        placement: this.getAttachment(placement),\n        modifiers: {\n          offset: {\n            offset: this.getOffset(placement)\n          },\n          flip: {\n            behavior: this.fallbackPlacement\n          },\n          // `arrow.element` can also be a reference to an HTML Element\n          // maybe we should make this a `$ref` in the templates?\n          arrow: {\n            element: '.arrow'\n          },\n          preventOverflow: {\n            padding: this.boundaryPadding,\n            boundariesElement: this.boundary\n          }\n        },\n        onCreate: function onCreate(data) {\n          // Handle flipping arrow classes\n          if (data.originalPlacement !== data.placement) {\n            /* istanbul ignore next: can't test in JSDOM */\n            _this.popperPlacementChange(data);\n          }\n        },\n        onUpdate: function onUpdate(data) {\n          // Handle flipping arrow classes\n          _this.popperPlacementChange(data);\n        }\n      };\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    // Note: We are created on-demand, and should be guaranteed that\n    // DOM is rendered/ready by the time the created hook runs\n    this.$_popper = null; // Ensure we show as we mount\n\n    this.localShow = true; // Create popper instance before shown\n\n    this.$on(EVENT_NAME_SHOW, function (el) {\n      _this2.popperCreate(el);\n    }); // Self destruct handler\n\n    var handleDestroy = function handleDestroy() {\n      _this2.$nextTick(function () {\n        // In a `requestAF()` to release control back to application\n        requestAF(function () {\n          _this2.$destroy();\n        });\n      });\n    }; // Self destruct if parent destroyed\n\n\n    this.$parent.$once(HOOK_EVENT_NAME_DESTROYED, handleDestroy); // Self destruct after hidden\n\n    this.$once(EVENT_NAME_HIDDEN, handleDestroy);\n  },\n  beforeMount: function beforeMount() {\n    // Ensure that the attachment position is correct before mounting\n    // as our propsData is added after `new Template({...})`\n    this.attachment = this.getAttachment(this.placement);\n  },\n  updated: function updated() {\n    // Update popper if needed\n    // TODO: Should this be a watcher on `this.popperConfig` instead?\n    this.updatePopper();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroyPopper();\n  },\n  destroyed: function destroyed() {\n    // Make sure template is removed from DOM\n    var el = this.$el;\n    el && el.parentNode && el.parentNode.removeChild(el);\n  },\n  methods: {\n    // \"Public\" method to trigger hide template\n    hide: function hide() {\n      this.localShow = false;\n    },\n    // Private\n    getAttachment: function getAttachment(placement) {\n      return AttachmentMap[String(placement).toUpperCase()] || 'auto';\n    },\n    getOffset: function getOffset(placement) {\n      if (!this.offset) {\n        // Could set a ref for the arrow element\n        var arrow = this.$refs.arrow || select('.arrow', this.$el);\n        var arrowOffset = toFloat(getCS(arrow).width, 0) + toFloat(this.arrowPadding, 0);\n\n        switch (OffsetMap[String(placement).toUpperCase()] || 0) {\n          /* istanbul ignore next: can't test in JSDOM */\n          case +1:\n            /* istanbul ignore next: can't test in JSDOM */\n            return \"+50%p - \".concat(arrowOffset, \"px\");\n\n          /* istanbul ignore next: can't test in JSDOM */\n\n          case -1:\n            /* istanbul ignore next: can't test in JSDOM */\n            return \"-50%p + \".concat(arrowOffset, \"px\");\n\n          default:\n            return 0;\n        }\n      }\n      /* istanbul ignore next */\n\n\n      return this.offset;\n    },\n    popperCreate: function popperCreate(el) {\n      this.destroyPopper(); // We use `el` rather than `this.$el` just in case the original\n      // mountpoint root element type was changed by the template\n\n      this.$_popper = new Popper(this.target, el, this.popperConfig);\n    },\n    destroyPopper: function destroyPopper() {\n      this.$_popper && this.$_popper.destroy();\n      this.$_popper = null;\n    },\n    updatePopper: function updatePopper() {\n      this.$_popper && this.$_popper.scheduleUpdate();\n    },\n    popperPlacementChange: function popperPlacementChange(data) {\n      // Callback used by popper to adjust the arrow placement\n      this.attachment = this.getAttachment(data.placement);\n    },\n\n    /* istanbul ignore next */\n    renderTemplate: function renderTemplate(h) {\n      // Will be overridden by templates\n      return h('div');\n    }\n  },\n  render: function render(h) {\n    var _this3 = this;\n\n    var noFade = this.noFade; // Note: 'show' and 'fade' classes are only appled during transition\n\n    return h(BVTransition, {\n      // Transitions as soon as mounted\n      props: {\n        appear: true,\n        noFade: noFade\n      },\n      on: {\n        // Events used by parent component/instance\n        beforeEnter: function beforeEnter(el) {\n          return _this3.$emit(EVENT_NAME_SHOW, el);\n        },\n        afterEnter: function afterEnter(el) {\n          return _this3.$emit(EVENT_NAME_SHOWN, el);\n        },\n        beforeLeave: function beforeLeave(el) {\n          return _this3.$emit(EVENT_NAME_HIDE, el);\n        },\n        afterLeave: function afterLeave(el) {\n          return _this3.$emit(EVENT_NAME_HIDDEN, el);\n        }\n      }\n    }, [this.localShow ? this.renderTemplate(h) : h()]);\n  }\n});"]},"metadata":{},"sourceType":"module"}